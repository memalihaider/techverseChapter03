(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{4124:function(e,a,s){Promise.resolve().then(s.bind(s,2307))},2307:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return l}});var n=s(7437),t=s(2265),r=s(9376),i=s(7648);function l(e){let{children:a}=e,s=(0,r.useRouter)(),l=(0,r.usePathname)(),[o,c]=(0,t.useState)(null),[d,m]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null),[x,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{p(),g(),b()},[]);let g=async()=>{try{let e=await fetch("/api/admin/sponsors"),a=await e.json();a.sponsors&&a.sponsors.length>0&&h({id:a.sponsors[0].id,name:a.sponsors[0].name,logo_url:a.sponsors[0].logo_url||void 0})}catch(e){}},b=async()=>{try{let e=await fetch("/api/admin/team"),a=await e.json();a.members&&a.members.length>0&&f({id:a.members[0].id,name:a.members[0].name,avatar_url:a.members[0].avatar_url||void 0})}catch(e){}},p=async()=>{try{let e=await fetch("/api/admin/auth/session"),a=await e.json();a.authenticated?c(a.admin):s.push("/admin/login")}catch(e){s.push("/admin/login")}finally{m(!1)}},v=async()=>{await fetch("/api/admin/auth/logout",{method:"POST"}),s.push("/admin/login")},j=[{name:"Dashboard",href:"/admin/dashboard",icon:null},{name:"Registrations",href:"/admin/registrations",icon:null},{name:"Sponsors",href:"/admin/sponsors",icon:u&&u.logo_url?(0,n.jsx)("img",{src:u.logo_url,alt:u.name,className:"w-7 h-7 rounded-full object-contain bg-white border border-gray-200"}):null},{name:"Team Members",href:"/admin/team",icon:x&&x.avatar_url?(0,n.jsx)("img",{src:x.avatar_url,alt:x.name,className:"w-7 h-7 rounded-full object-cover bg-white border border-gray-200"}):null},{name:"Event Highlights",href:"/admin/highlights",icon:null},{name:"Modules",href:"/admin/modules",icon:null}];return d?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900",children:(0,n.jsx)("div",{className:"text-white text-xl",children:"Loading..."})}):(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50",children:[(0,n.jsx)("nav",{className:"bg-gradient-to-r from-navy-900 to-navy-800 text-white shadow-lg sticky top-0 z-50",children:(0,n.jsx)("div",{className:"max-w-full mx-auto px-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsxs)(i.default,{href:"/admin/dashboard",className:"text-xl font-bold",children:[(0,n.jsx)("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Techverse 2026"})," Admin"]})}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("div",{className:"font-semibold",children:null==o?void 0:o.email}),(0,n.jsx)("div",{className:"text-xs text-gray-400",children:null==o?void 0:o.role})]}),(0,n.jsx)(i.default,{href:"/",target:"_blank",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors text-sm",children:"View Site"}),(0,n.jsx)("button",{onClick:v,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors text-sm",children:"Logout"})]})]})})}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("aside",{className:"w-64 bg-white shadow-lg min-h-screen sticky top-16",children:(0,n.jsx)("nav",{className:"p-4 space-y-2",children:j.map(e=>{let a=l===e.href||l.startsWith(e.href+"/");return(0,n.jsxs)(i.default,{href:e.href,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-all ".concat(a?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg":"text-gray-700 hover:bg-gray-100"),children:[e.icon&&(0,n.jsx)("span",{children:e.icon}),(0,n.jsx)("span",{className:"font-medium",children:e.name})]},e.name)})})}),(0,n.jsx)("main",{className:"flex-1 p-8",children:a})]})]})}},9376:function(e,a,s){"use strict";var n=s(5475);s.o(n,"usePathname")&&s.d(a,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(a,{useRouter:function(){return n.useRouter}})}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=4124)}),_N_E=e.O()}]);