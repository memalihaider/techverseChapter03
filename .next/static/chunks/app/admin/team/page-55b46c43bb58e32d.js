(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84],{9528:function(e,t,a){Promise.resolve().then(a.bind(a,5362))},5362:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var r=a(7437),s=a(2265);function l(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0),[i,n]=(0,s.useState)(!1),[c,o]=(0,s.useState)(null),[d,m]=(0,s.useState)({name:"",position:"",department:"IT",hierarchy:"Team Members",avatar_url:"",bio:"",is_active:!0,is_featured:!1});(0,s.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/admin/team"),a=await e.json();t(a.members||[])}catch(e){console.error("Error fetching team members:",e)}finally{l(!1)}},u=async e=>{e.preventDefault();try{let e=c?"/api/admin/team/".concat(c):"/api/admin/team",t=c?"PUT":"POST";(await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).ok?(alert(c?"Team member updated!":"Team member added!"),n(!1),o(null),b(),x()):alert("Failed to save team member")}catch(e){console.error("Error saving team member:",e),alert("Error saving team member")}},p=e=>{m({name:e.name,position:e.position,department:e.department,hierarchy:e.hierarchy,avatar_url:e.avatar_url||"",bio:e.bio,is_active:e.is_active,is_featured:e.is_featured}),o(e.id),n(!0)},h=async(e,t)=>{if(confirm("Delete ".concat(t,"?")))try{(await fetch("/api/admin/team/".concat(e),{method:"DELETE"})).ok?(alert("Team member deleted!"),x()):alert("Failed to delete")}catch(e){console.error("Error deleting:",e),alert("Error deleting")}},b=()=>{m({name:"",position:"",department:"IT",hierarchy:"Team Members",avatar_url:"",bio:"",is_active:!0,is_featured:!1})},g=e=>({Organizers:"bg-purple-100 text-purple-800",Directors:"bg-blue-100 text-blue-800","Co-Directors":"bg-green-100 text-green-800",Supervisors:"bg-yellow-100 text-yellow-800",Leads:"bg-red-100 text-red-800","Team Members":"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800";return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-navy-800 mb-2",children:"Team Members"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage organizing team members"})]}),(0,r.jsx)("button",{onClick:()=>{b(),o(null),n(!0)},className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-600",children:"+ Add Team Member"})]}),i&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-6 rounded-t-2xl",children:(0,r.jsx)("h2",{className:"text-2xl font-bold",children:c?"Edit Team Member":"Add Team Member"})}),(0,r.jsxs)("form",{onSubmit:u,className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),(0,r.jsx)("input",{type:"text",value:d.name,onChange:e=>m({...d,name:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position *"}),(0,r.jsx)("input",{type:"text",value:d.position,onChange:e=>m({...d,position:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department *"}),(0,r.jsxs)("select",{value:d.department,onChange:e=>m({...d,department:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"IT",children:"IT"}),(0,r.jsx)("option",{value:"Logistics",children:"Logistics"}),(0,r.jsx)("option",{value:"External Affairs",children:"External Affairs"}),(0,r.jsx)("option",{value:"Creative",children:"Creative"}),(0,r.jsx)("option",{value:"Management",children:"Management"}),(0,r.jsx)("option",{value:"Registration",children:"Registration"}),(0,r.jsx)("option",{value:"Others",children:"Others"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hierarchy *"}),(0,r.jsxs)("select",{value:d.hierarchy,onChange:e=>m({...d,hierarchy:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"Organizers",children:"Organizers"}),(0,r.jsx)("option",{value:"Directors",children:"Directors"}),(0,r.jsx)("option",{value:"Co-Directors",children:"Co-Directors"}),(0,r.jsx)("option",{value:"Supervisors",children:"Supervisors"}),(0,r.jsx)("option",{value:"Leads",children:"Leads"}),(0,r.jsx)("option",{value:"Team Members",children:"Team Members"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Image URL"}),(0,r.jsx)("input",{type:"url",value:d.avatar_url,onChange:e=>m({...d,avatar_url:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/profile.jpg"}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"Leave blank to use fallback emoji."})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio *"}),(0,r.jsx)("textarea",{value:d.bio,onChange:e=>m({...d,bio:e.target.value}),required:!0,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"is_active",checked:d.is_active,onChange:e=>m({...d,is_active:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"is_featured",checked:d.is_featured,onChange:e=>m({...d,is_featured:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"is_featured",className:"ml-2 text-sm text-gray-700",children:"Featured (show on homepage)"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsxs)("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-600",children:[c?"Update":"Add"," Member"]}),(0,r.jsx)("button",{type:"button",onClick:()=>{n(!1),o(null),b()},className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300",children:"Cancel"})]})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:a?(0,r.jsx)("div",{className:"text-center py-12",children:"Loading team members..."}):0===e.length?(0,r.jsx)("div",{className:"text-center py-12 text-gray-500",children:'No team members yet. Click "Add Team Member" to create one.'}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Avatar"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Position"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hierarchy"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.avatar_url?(0,r.jsx)("img",{src:e.avatar_url,alt:e.name,className:"w-12 h-12 rounded-full object-cover border-2 border-blue-200 bg-white"}):(0,r.jsx)("span",{className:"text-3xl",children:e.avatar_emoji})}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),e.is_featured&&(0,r.jsx)("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"â˜… Featured"})]}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.position}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.department}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"px-3 py-1 inline-flex text-xs font-semibold rounded-full ".concat(g(e.hierarchy)),children:e.hierarchy})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"px-2 py-1 inline-flex text-xs font-semibold rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[(0,r.jsx)("button",{onClick:()=>p(e),className:"text-blue-600 hover:text-blue-800 font-medium mr-4",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>h(e.id,e.name),className:"text-red-600 hover:text-red-800 font-medium",children:"Delete"})]})]},e.id))})]})})})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=9528)}),_N_E=e.O()}]);