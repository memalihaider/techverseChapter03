(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[714],{9608:function(e,t,l){Promise.resolve().then(l.bind(l,8735))},8735:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return r}});var a=l(7437),i=l(2265);function r(){let[e,t]=(0,i.useState)([]),[l,r]=(0,i.useState)(!0),[s,d]=(0,i.useState)(!1),[n,c]=(0,i.useState)(null),[o,u]=(0,i.useState)({title:"",description:"",media_type:"image",media_url:"",thumbnail_url:"",event_year:new Date().getFullYear(),category:"",is_active:!0,is_featured:!1});(0,i.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await fetch("/api/admin/highlights"),l=await e.json();t(l.highlights||[])}catch(e){console.error("Error fetching highlights:",e)}finally{r(!1)}},m=async e=>{e.preventDefault();try{let e=n?"/api/admin/highlights/".concat(n):"/api/admin/highlights",t=n?"PUT":"POST";(await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok?(alert(n?"Highlight updated!":"Highlight added!"),d(!1),c(null),p(),g()):alert("Failed to save highlight")}catch(e){console.error("Error saving highlight:",e),alert("Error saving highlight")}},h=e=>{u({title:e.title,description:e.description,media_type:e.media_type,media_url:e.media_url,thumbnail_url:e.thumbnail_url||"",event_year:e.event_year||new Date().getFullYear(),category:e.category||"",is_active:e.is_active,is_featured:e.is_featured}),c(e.id),d(!0)},x=async(e,t)=>{if(confirm('Delete "'.concat(t,'"?')))try{(await fetch("/api/admin/highlights/".concat(e),{method:"DELETE"})).ok?(alert("Highlight deleted!"),g()):alert("Failed to delete")}catch(e){console.error("Error deleting:",e),alert("Error deleting")}},p=()=>{u({title:"",description:"",media_type:"image",media_url:"",thumbnail_url:"",event_year:new Date().getFullYear(),category:"",is_active:!0,is_featured:!1})};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-navy-800 mb-2",children:"Event Highlights"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage images and videos from previous events"})]}),(0,a.jsx)("button",{onClick:()=>{p(),c(null),d(!0)},className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-600",children:"+ Add Highlight"})]}),s&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl max-w-2xl w-full my-8",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-6 rounded-t-2xl",children:(0,a.jsx)("h2",{className:"text-2xl font-bold",children:n?"Edit Highlight":"Add Highlight"})}),(0,a.jsxs)("form",{onSubmit:m,className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),(0,a.jsx)("input",{type:"text",value:o.title,onChange:e=>u({...o,title:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Opening Ceremony 2025"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,a.jsx)("textarea",{value:o.description,onChange:e=>u({...o,description:e.target.value}),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Brief description"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Media Type *"}),(0,a.jsxs)("select",{value:o.media_type,onChange:e=>u({...o,media_type:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"image",children:"Image"}),(0,a.jsx)("option",{value:"video",children:"Video"}),(0,a.jsx)("option",{value:"youtube",children:"YouTube"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Year"}),(0,a.jsx)("input",{type:"number",value:o.event_year,onChange:e=>u({...o,event_year:parseInt(e.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"youtube"===o.media_type?"YouTube Video ID *":"Media URL *"}),(0,a.jsx)("input",{type:"text",value:o.media_url,onChange:e=>u({...o,media_url:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"youtube"===o.media_type?"e.g., dQw4w9WgXcQ":"https://example.com/image.jpg"}),"youtube"===o.media_type&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Enter only the video ID from YouTube URL (e.g., from youtube.com/watch?v=",(0,a.jsx)("strong",{children:"dQw4w9WgXcQ"}),")"]})]}),"image"!==o.media_type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thumbnail URL (optional)"}),(0,a.jsx)("input",{type:"text",value:o.thumbnail_url,onChange:e=>u({...o,thumbnail_url:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/thumbnail.jpg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category (optional)"}),(0,a.jsx)("input",{type:"text",value:o.category,onChange:e=>u({...o,category:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Competition, Workshop, Awards"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"is_active",checked:o.is_active,onChange:e=>u({...o,is_active:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active (visible on website)"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"is_featured",checked:o.is_featured,onChange:e=>u({...o,is_featured:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"is_featured",className:"ml-2 text-sm text-gray-700",children:"Featured"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsxs)("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-medium",children:[n?"Update":"Add"," Highlight"]}),(0,a.jsx)("button",{type:"button",onClick:()=>{d(!1),c(null),p()},className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium",children:"Cancel"})]})]})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l?(0,a.jsx)("div",{className:"col-span-full text-center py-12",children:"Loading highlights..."}):0===e.length?(0,a.jsx)("div",{className:"col-span-full text-center py-12 text-gray-500",children:'No highlights yet. Click "Add Highlight" to create one.'}):e.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative aspect-video bg-gray-200",children:["image"===e.media_type&&(0,a.jsx)("img",{src:e.media_url,alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="https://via.placeholder.com/400x225?text=Image+Not+Found"}}),"youtube"===e.media_type&&(0,a.jsx)("img",{src:e.thumbnail_url||"https://img.youtube.com/vi/".concat(e.media_url,"/maxresdefault.jpg"),alt:e.title,className:"w-full h-full object-cover"}),"video"===e.media_type&&(0,a.jsx)("video",{src:e.media_url,poster:e.thumbnail_url||void 0,className:"w-full h-full object-cover"}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.is_featured&&(0,a.jsx)("span",{className:"bg-yellow-500 text-white text-xs px-2 py-1 rounded-full",children:"★ Featured"}),(0,a.jsx)("span",{className:"bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded-full",children:e.media_type})]})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-1",children:e.title}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-3",children:[e.event_year&&(0,a.jsx)("span",{children:e.event_year}),e.category&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:e.category})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>h(e),className:"flex-1 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-200",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>x(e.id,e.title),className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg text-sm font-medium hover:bg-red-200",children:"Delete"})]})]})]},e.id))})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=9608)}),_N_E=e.O()}]);