(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[204],{747:function(e,t,s){Promise.resolve().then(s.bind(s,1936))},1936:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var r=s(7437),a=s(2265);function n(e){let{data:t,updateData:s,onNext:n}=e,[i,l]=(0,a.useState)({}),d=()=>{let e={};return t.teamName.trim()||(e.teamName="Team name is required"),t.teamLeader.fullName.trim()||(e.fullName="Full name is required"),t.teamLeader.email.trim()?/\S+@\S+\.\S+/.test(t.teamLeader.email)||(e.email="Email is invalid"):e.email="Email is required",t.teamLeader.phone.trim()?/^03\d{2}-\d{7}$/.test(t.teamLeader.phone)||(e.phone="Phone format: 03XX-XXXXXXX"):e.phone="Phone number is required",t.teamLeader.cnic.trim()?/^\d{5}-\d{7}-\d$/.test(t.teamLeader.cnic)||(e.cnic="CNIC format: XXXXX-XXXXXXX-X"):e.cnic="CNIC is required",t.teamLeader.university.trim()||(e.university="University is required"),t.teamLeader.studentId.trim()||(e.studentId="Student ID is required"),l(e),0===Object.keys(e).length},o=(e,r)=>{s({teamLeader:{...t.teamLeader,[e]:r}})};return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d()&&n()},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Team Information"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Provide your team name and team leader details. The team leader will be the primary contact."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"teamName",className:"block text-sm font-medium text-gray-700",children:"Team Name *"}),(0,r.jsx)("input",{type:"text",id:"teamName",value:t.teamName,onChange:e=>s({teamName:e.target.value}),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat(i.teamName?"border-red-300":"border-gray-300"),placeholder:"Enter your team name"}),i.teamName&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.teamName})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,r.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-4",children:"Team Leader Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),(0,r.jsx)("input",{type:"text",id:"fullName",value:t.teamLeader.fullName,onChange:e=>o("fullName",e.target.value),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat(i.fullName?"border-red-300":"border-gray-300")}),i.fullName&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.fullName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address *"}),(0,r.jsx)("input",{type:"email",id:"email",value:t.teamLeader.email,onChange:e=>o("email",e.target.value),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat(i.email?"border-red-300":"border-gray-300")}),i.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number *"}),(0,r.jsx)("input",{type:"tel",id:"phone",value:t.teamLeader.phone,onChange:e=>o("phone",e.target.value),placeholder:"03XX-XXXXXXX",className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat(i.phone?"border-red-300":"border-gray-300")}),i.phone&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.phone})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cnic",className:"block text-sm font-medium text-gray-700",children:"CNIC *"}),(0,r.jsx)("input",{type:"text",id:"cnic",value:t.teamLeader.cnic,onChange:e=>o("cnic",e.target.value),placeholder:"XXXXX-XXXXXXX-X",className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat(i.cnic?"border-red-300":"border-gray-300")}),i.cnic&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.cnic})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"university",className:"block text-sm font-medium text-gray-700",children:"University/Institution *"}),(0,r.jsx)("input",{type:"text",id:"university",value:t.teamLeader.university,onChange:e=>o("university",e.target.value),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat(i.university?"border-red-300":"border-gray-300")}),i.university&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.university})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"studentId",className:"block text-sm font-medium text-gray-700",children:"Student ID *"}),(0,r.jsx)("input",{type:"text",id:"studentId",value:t.teamLeader.studentId,onChange:e=>o("studentId",e.target.value),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat(i.studentId?"border-red-300":"border-gray-300")}),i.studentId&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.studentId})]})]})]}),(0,r.jsx)("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:(0,r.jsx)("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Next: Select Module"})})]})}function i(e){let{data:t,updateData:s,onNext:n,onPrev:i}=e,[l,d]=(0,a.useState)([]),[o,m]=(0,a.useState)("All"),[c,u]=(0,a.useState)([]),[x,h]=(0,a.useState)(["All"]),[g,p]=(0,a.useState)(!0),[f,b]=(0,a.useState)("");(0,a.useEffect)(()=>{y()},[]);let y=async()=>{try{let e=await fetch("/api/modules"),t=await e.json();if(t.modules){let e=t.modules.map(e=>({id:e.module_id,name:e.name,category:e.category,entryFee:e.entry_fee,minTeamSize:e.min_team_size,maxTeamSize:e.max_team_size,description:e.description||""}));d(e),u(e);let s=Array.from(new Set(e.map(e=>e.category)));h(["All",...s])}}catch(e){console.error("Error fetching modules:",e),b("Failed to load modules. Please refresh the page.")}finally{p(!1)}};(0,a.useEffect)(()=>{"All"===o?u(l):u(l.filter(e=>e.category===o))},[o,l]);let j=e=>{s({selectedModule:e}),b("")};return g?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Module Selection"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Loading available modules..."})]}),(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Module Selection"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Choose the competition module your team wants to participate in. Each module has different team size requirements and entry fees."})]}),f&&(0,r.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,r.jsx)("div",{className:"text-sm text-red-700",children:f})}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map(e=>(0,r.jsx)("button",{onClick:()=>m(e),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat(o===e?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:c.map(e=>{var s,a;return(0,r.jsxs)("div",{onClick:()=>j(e),className:"relative rounded-lg border p-4 cursor-pointer transition-all hover:shadow-md ".concat((null===(s=t.selectedModule)||void 0===s?void 0:s.id)===e.id?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-500":"border-gray-300 bg-white hover:border-gray-400"),children:[(null===(a=t.selectedModule)||void 0===a?void 0:a.id)===e.id&&(0,r.jsx)("div",{className:"absolute top-2 right-2",children:(0,r.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-indigo-600",children:(0,r.jsx)("svg",{className:"h-4 w-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("Gaming"===e.category?"bg-purple-100 text-purple-800":"Programming"===e.category?"bg-blue-100 text-blue-800":"Security"===e.category?"bg-red-100 text-red-800":"Robotics"===e.category?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.category})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Team Size:"}),(0,r.jsx)("span",{className:"font-medium",children:e.minTeamSize===e.maxTeamSize?"".concat(e.minTeamSize," ").concat(1===e.minTeamSize?"person":"people"):"".concat(e.minTeamSize,"-").concat(e.maxTeamSize," people")})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Entry Fee:"}),(0,r.jsx)("span",{className:"font-medium text-indigo-600",children:0===e.entryFee?"Free":"₨".concat(e.entryFee.toLocaleString())})]})]})]},e.id)})}),(0,r.jsxs)("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[(0,r.jsx)("button",{type:"button",onClick:i,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Previous"}),(0,r.jsx)("button",{type:"button",onClick:()=>{if(!t.selectedModule){b("Please select a competition module");return}n()},className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Next: Add Team Members"})]})]})}function l(e){let{data:t,updateData:s,onNext:n,onPrev:i}=e,[l,d]=(0,a.useState)({}),o=t.selectedModule;if(!o)return null;let m=o.minTeamSize-1,c=o.maxTeamSize-1,u=e=>{s({teamMembers:t.teamMembers.filter((t,s)=>s!==e)})},x=(e,r,a)=>{let n=[...t.teamMembers];n[e]={...n[e],[r]:a},s({teamMembers:n})},h=()=>{let e={},s=!1;return t.teamMembers.length<m?(alert("This module requires at least ".concat(m," additional team member(s) besides the team leader.")),!1):(t.teamMembers.forEach((t,r)=>{let a={};t.fullName.trim()||(a.fullName="Full name is required"),t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(a.email="Email is invalid"):a.email="Email is required",t.phone.trim()?/^03\d{2}-\d{7}$/.test(t.phone)||(a.phone="Phone format: 03XX-XXXXXXX"):a.phone="Phone number is required",t.cnic.trim()?/^\d{5}-\d{7}-\d$/.test(t.cnic)||(a.cnic="CNIC format: XXXXX-XXXXXXX-X"):a.cnic="CNIC is required",t.university.trim()||(a.university="University is required"),t.studentId.trim()||(a.studentId="Student ID is required"),Object.keys(a).length>0&&(e[r]=a,s=!0)}),d(e),!s)};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Team Members"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Add team members for ",(0,r.jsx)("strong",{children:o.name}),". You need ",m," to ",c," additional member(s) besides the team leader."]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Team Leader"}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:t.teamLeader.fullName})}),(0,r.jsxs)("p",{children:[t.teamLeader.email," • ",t.teamLeader.phone]}),(0,r.jsx)("p",{children:t.teamLeader.university})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[t.teamMembers.map((e,s)=>{var a,n,i,d,o,c,h,g,p,f,b,y,j,v,N,X,w,k;return(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h3",{className:"text-md font-medium text-gray-900",children:["Team Member ",s+1]}),t.teamMembers.length>m&&(0,r.jsx)("button",{type:"button",onClick:()=>u(s),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),(0,r.jsx)("input",{type:"text",value:e.fullName,onChange:e=>x(s,"fullName",e.target.value),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat((null===(a=l[s])||void 0===a?void 0:a.fullName)?"border-red-300":"border-gray-300")}),(null===(n=l[s])||void 0===n?void 0:n.fullName)&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:null===(i=l[s])||void 0===i?void 0:i.fullName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),(0,r.jsx)("input",{type:"email",value:e.email,onChange:e=>x(s,"email",e.target.value),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat((null===(d=l[s])||void 0===d?void 0:d.email)?"border-red-300":"border-gray-300")}),(null===(o=l[s])||void 0===o?void 0:o.email)&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:null===(c=l[s])||void 0===c?void 0:c.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone *"}),(0,r.jsx)("input",{type:"tel",value:e.phone,onChange:e=>x(s,"phone",e.target.value),placeholder:"03XX-XXXXXXX",className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat((null===(h=l[s])||void 0===h?void 0:h.phone)?"border-red-300":"border-gray-300")}),(null===(g=l[s])||void 0===g?void 0:g.phone)&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:null===(p=l[s])||void 0===p?void 0:p.phone})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"CNIC *"}),(0,r.jsx)("input",{type:"text",value:e.cnic,onChange:e=>x(s,"cnic",e.target.value),placeholder:"XXXXX-XXXXXXX-X",className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat((null===(f=l[s])||void 0===f?void 0:f.cnic)?"border-red-300":"border-gray-300")}),(null===(b=l[s])||void 0===b?void 0:b.cnic)&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:null===(y=l[s])||void 0===y?void 0:y.cnic})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"University *"}),(0,r.jsx)("input",{type:"text",value:e.university,onChange:e=>x(s,"university",e.target.value),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat((null===(j=l[s])||void 0===j?void 0:j.university)?"border-red-300":"border-gray-300")}),(null===(v=l[s])||void 0===v?void 0:v.university)&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:null===(N=l[s])||void 0===N?void 0:N.university})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Student ID *"}),(0,r.jsx)("input",{type:"text",value:e.studentId,onChange:e=>x(s,"studentId",e.target.value),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat((null===(X=l[s])||void 0===X?void 0:X.studentId)?"border-red-300":"border-gray-300")}),(null===(w=l[s])||void 0===w?void 0:w.studentId)&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:null===(k=l[s])||void 0===k?void 0:k.studentId})]})]})]},s)}),t.teamMembers.length<c&&(0,r.jsx)("button",{type:"button",onClick:()=>{t.teamMembers.length<c&&s({teamMembers:[...t.teamMembers,{fullName:"",email:"",phone:"",cnic:"",university:"",studentId:""}]})},className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:(0,r.jsxs)("div",{className:"text-gray-600",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,r.jsx)("span",{className:"mt-2 block text-sm font-medium",children:"Add Team Member"})]})})]}),(0,r.jsxs)("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[(0,r.jsx)("button",{type:"button",onClick:i,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Previous"}),(0,r.jsx)("button",{type:"button",onClick:()=>{h()&&n()},className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Next: Payment Details"})]})]})}let d=[{id:"jazzcash",name:"JazzCash",number:"03XX-XXXXXXX"},{id:"easypaisa",name:"EasyPaisa",number:"03XX-XXXXXXX"},{id:"bank",name:"Bank Transfer",number:"Account: XXXX-XXXX-XXXX"}];function o(e){let{data:t,updateData:s,onPrev:n,onSubmit:i}=e,[l,o]=(0,a.useState)(!1),[m,c]=(0,a.useState)({}),u=t.selectedModule;if(!u)return null;let x=u.entryFee,h=()=>{let e={};return x>0&&(t.paymentMethod||(e.paymentMethod="Please select a payment method"),t.transactionId.trim()||(e.transactionId="Transaction ID is required"),t.paymentProof||(e.paymentProof="Payment proof is required")),c(e),0===Object.keys(e).length},g=async()=>{if(h()){o(!0);try{await i()}catch(e){console.error("Payment submission error:",e)}finally{o(!1)}}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Payment Details"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Complete your registration by processing the payment for ",(0,r.jsx)("strong",{children:u.name}),"."]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Order Summary"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsxs)("span",{children:["Module: ",u.name]}),(0,r.jsxs)("span",{children:["₨",x.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsxs)("span",{children:["Team Size: ",1+t.teamMembers.length," member(s)"]}),(0,r.jsx)("span",{children:"-"})]}),(0,r.jsx)("div",{className:"border-t border-gray-200 pt-2 mt-2",children:(0,r.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsx)("span",{className:"text-indigo-600",children:0===x?"Free":"₨".concat(x.toLocaleString())})]})})]})]}),x>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method *"}),(0,r.jsx)("div",{className:"space-y-2",children:d.map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:e.id,name:"paymentMethod",type:"radio",value:e.id,checked:t.paymentMethod===e.id,onChange:e=>s({paymentMethod:e.target.value}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),(0,r.jsxs)("label",{htmlFor:e.id,className:"ml-3 block text-sm text-gray-900",children:[(0,r.jsx)("span",{className:"font-medium",children:e.name}),(0,r.jsx)("span",{className:"text-gray-500 ml-2",children:e.number})]})]},e.id))}),m.paymentMethod&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.paymentMethod})]}),t.paymentMethod&&(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Payment Instructions"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside text-sm text-blue-800 space-y-1",children:[(0,r.jsxs)("li",{children:["Send ₨",x.toLocaleString()," to the selected payment method"]}),(0,r.jsx)("li",{children:"Note the transaction ID from your payment confirmation"}),(0,r.jsx)("li",{children:"Upload a screenshot or receipt as proof of payment"}),(0,r.jsx)("li",{children:"Enter the transaction ID in the field below"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"transactionId",className:"block text-sm font-medium text-gray-700",children:"Transaction ID *"}),(0,r.jsx)("input",{type:"text",id:"transactionId",value:t.transactionId,onChange:e=>s({transactionId:e.target.value}),placeholder:"Enter transaction ID from payment confirmation",className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ".concat(m.transactionId?"border-red-300":"border-gray-300")}),m.transactionId&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.transactionId})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"paymentProof",className:"block text-sm font-medium text-gray-700",children:"Payment Proof *"}),(0,r.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:(0,r.jsxs)("div",{className:"space-y-1 text-center",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"})}),(0,r.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,r.jsxs)("label",{htmlFor:"paymentProof",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[(0,r.jsx)("span",{children:"Upload payment proof"}),(0,r.jsx)("input",{id:"paymentProof",name:"paymentProof",type:"file",className:"sr-only",accept:"image/*,.pdf",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(r.type)){c({...m,paymentProof:"Please upload an image (JPG, PNG) or PDF file"});return}if(r.size>5242880){c({...m,paymentProof:"File size must be less than 5MB"});return}s({paymentProof:r}),c({...m,paymentProof:""})}}})]}),(0,r.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF up to 5MB"}),t.paymentProof&&(0,r.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:["✓ ",t.paymentProof.name," uploaded"]})]})}),m.paymentProof&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.paymentProof})]})]}):(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"No Payment Required"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-green-700",children:(0,r.jsx)("p",{children:"This module is free to participate in. You can proceed to complete your registration."})})]})]})}),(0,r.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex items-center h-5",children:(0,r.jsx)("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",required:!0})}),(0,r.jsx)("div",{className:"ml-3 text-sm",children:(0,r.jsxs)("label",{htmlFor:"terms",className:"text-gray-700",children:["I agree to the ",(0,r.jsx)("a",{href:"/rules",className:"text-indigo-600 hover:text-indigo-500",children:"terms and conditions"})," and understand that registration fees are non-refundable."]})})]})}),(0,r.jsxs)("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[(0,r.jsx)("button",{type:"button",onClick:n,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Previous"}),(0,r.jsx)("button",{type:"button",onClick:g,disabled:l,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Submitting...":"Complete Registration"})]})]})}function m(){let[e,t]=(0,a.useState)(1),[s,d]=(0,a.useState)({teamName:"",teamLeader:{fullName:"",email:"",phone:"",cnic:"",university:"",studentId:""},selectedModule:null,teamMembers:[],paymentMethod:"",transactionId:"",paymentProof:null}),[m,c]=(0,a.useState)(!0),u=e=>{d(t=>({...t,...e}))},x=()=>{e<4&&t(e+1)},h=()=>{e>1&&t(e-1)},g=async()=>{try{var e,t;let r="";s.paymentProof&&(r="https://placeholder.com/payment-proof/"+s.paymentProof.name,console.log("Payment proof file:",s.paymentProof.name));let a={team_name:s.teamName,module_id:null===(e=s.selectedModule)||void 0===e?void 0:e.id,team_leader:s.teamLeader,team_members:s.teamMembers,payment_method:s.paymentMethod||null,transaction_id:s.transactionId||null,payment_proof_url:r||null,entry_fee:(null===(t=s.selectedModule)||void 0===t?void 0:t.entryFee)||0},n=await fetch("/api/registrations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i=await n.json();if(n.ok&&i.success)alert("Registration submitted successfully! Your registration number is: ".concat(i.registration.registration_number)),window.location.href="/";else throw Error(i.error||"Registration failed")}catch(e){console.error("Registration error:",e),alert("Registration failed: "+(e instanceof Error?e.message:"Please try again."))}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 py-12 relative",children:[m&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full text-center relative animate-fadeIn",children:[(0,r.jsx)("div",{className:"text-5xl mb-4",children:"\uD83D\uDEA7"}),(0,r.jsx)("h2",{className:"text-2xl md:text-3xl font-bold mb-3 text-navy-800",children:"Registration Will Be Open Soon!"}),(0,r.jsxs)("p",{className:"text-gray-700 mb-4 text-lg",children:["Registration will open in ",(0,r.jsx)("span",{className:"font-semibold text-blue-600",children:"November"}),".",(0,r.jsx)("br",{}),"Updates will be posted on our Instagram and YouTube channels."]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-2",children:[(0,r.jsxs)("a",{href:"https://www.instagram.com/techverse.chapter2/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-pink-500 to-yellow-500 text-white font-bold rounded-lg hover:from-pink-600 hover:to-yellow-600 transition",children:[(0,r.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5A4.25 4.25 0 0 0 20.5 16.25v-8.5A4.25 4.25 0 0 0 16.25 3.5h-8.5zm4.25 3.25a5.25 5.25 0 1 1 0 10.5a5.25 5.25 0 0 1 0-10.5zm0 1.5a3.75 3.75 0 1 0 0 7.5a3.75 3.75 0 0 0 0-7.5zm6.25.75a1 1 0 1 1-2 0a1 1 0 0 1 2 0z"})}),"Instagram"]}),(0,r.jsxs)("a",{href:"https://www.youtube.com/@UMTTechverse",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-red-600 to-orange-600 text-white font-bold rounded-lg hover:from-red-700 hover:to-orange-700 transition",children:[(0,r.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M21.8 8.001s-.2-1.4-.8-2c-.7-.8-1.5-.8-1.9-.9C16.1 5 12 5 12 5h0s-4.1 0-7.1.1c-.4 0-1.2.1-1.9.9-.6.6-.8 2-.8 2S2 9.6 2 11.2v1.6c0 1.6.2 3.2.2 3.2s.2 1.4.8 2c.7.8 1.7.8 2.1.9C7.9 19 12 19 12 19s4.1 0 7.1-.1c.4 0 1.2-.1 1.9-.9.6-.6.8-2 .8-2s.2-1.6.2-3.2v-1.6c0-1.6-.2-3.2-.2-3.2zM10 15V9l6 3-6 3z"})}),"YouTube"]})]})]})}),(0,r.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Team Registration"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Complete all steps to register your team"})]}),(0,r.jsxs)("div",{className:"px-6 py-6",children:[1===e&&(0,r.jsx)(n,{data:s,updateData:u,onNext:x}),2===e&&(0,r.jsx)(i,{data:s,updateData:u,onNext:x,onPrev:h}),3===e&&(0,r.jsx)(l,{data:s,updateData:u,onNext:x,onPrev:h}),4===e&&(0,r.jsx)(o,{data:s,updateData:u,onPrev:h,onSubmit:g})]})]})})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=747)}),_N_E=e.O()}]);