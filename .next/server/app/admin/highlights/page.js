(()=>{var e={};e.id=2714,e.ids=[2714],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},56435:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>s.a,__next_app__:()=>g,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(53935),a(90596),a(72222),a(35866);var r=a(23191),l=a(88716),i=a(37922),s=a.n(i),n=a(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d=["",{children:["admin",{children:["highlights",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,53935)),"/Users/macbookpro/Personal Work/tecverse03/app/admin/highlights/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,90596)),"/Users/macbookpro/Personal Work/tecverse03/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,72222)),"/Users/macbookpro/Personal Work/tecverse03/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/macbookpro/Personal Work/tecverse03/app/admin/highlights/page.tsx"],u="/admin/highlights/page",g={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/highlights/page",pathname:"/admin/highlights",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},81042:(e,t,a)=>{Promise.resolve().then(a.bind(a,46579))},46579:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(10326),l=a(17577);function i(){let[e,t]=(0,l.useState)([]),[a,i]=(0,l.useState)(!0),[s,n]=(0,l.useState)(!1),[o,d]=(0,l.useState)(null),[c,u]=(0,l.useState)({title:"",description:"",media_type:"image",media_url:"",thumbnail_url:"",event_year:new Date().getFullYear(),category:"",is_active:!0,is_featured:!1}),g=async()=>{try{let e=await fetch("/api/admin/highlights"),a=await e.json();t(a.highlights||[])}catch(e){console.error("Error fetching highlights:",e)}finally{i(!1)}},m=async e=>{e.preventDefault();try{let e=o?`/api/admin/highlights/${o}`:"/api/admin/highlights",t=o?"PUT":"POST";(await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok?(alert(o?"Highlight updated!":"Highlight added!"),n(!1),d(null),x(),g()):alert("Failed to save highlight")}catch(e){console.error("Error saving highlight:",e),alert("Error saving highlight")}},h=e=>{u({title:e.title,description:e.description,media_type:e.media_type,media_url:e.media_url,thumbnail_url:e.thumbnail_url||"",event_year:e.event_year||new Date().getFullYear(),category:e.category||"",is_active:e.is_active,is_featured:e.is_featured}),d(e.id),n(!0)},p=async(e,t)=>{if(confirm(`Delete "${t}"?`))try{(await fetch(`/api/admin/highlights/${e}`,{method:"DELETE"})).ok?(alert("Highlight deleted!"),g()):alert("Failed to delete")}catch(e){console.error("Error deleting:",e),alert("Error deleting")}},x=()=>{u({title:"",description:"",media_type:"image",media_url:"",thumbnail_url:"",event_year:new Date().getFullYear(),category:"",is_active:!0,is_featured:!1})};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-navy-800 mb-2",children:"Event Highlights"}),r.jsx("p",{className:"text-gray-600",children:"Manage images and videos from previous events"})]}),r.jsx("button",{onClick:()=>{x(),d(null),n(!0)},className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-600",children:"+ Add Highlight"})]}),s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl max-w-2xl w-full my-8",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-6 rounded-t-2xl",children:r.jsx("h2",{className:"text-2xl font-bold",children:o?"Edit Highlight":"Add Highlight"})}),(0,r.jsxs)("form",{onSubmit:m,className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),r.jsx("input",{type:"text",value:c.title,onChange:e=>u({...c,title:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Opening Ceremony 2025"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:c.description,onChange:e=>u({...c,description:e.target.value}),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Brief description"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Media Type *"}),(0,r.jsxs)("select",{value:c.media_type,onChange:e=>u({...c,media_type:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"image",children:"Image"}),r.jsx("option",{value:"video",children:"Video"}),r.jsx("option",{value:"youtube",children:"YouTube"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Year"}),r.jsx("input",{type:"number",value:c.event_year,onChange:e=>u({...c,event_year:parseInt(e.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"youtube"===c.media_type?"YouTube Video ID *":"Media URL *"}),r.jsx("input",{type:"text",value:c.media_url,onChange:e=>u({...c,media_url:e.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"youtube"===c.media_type?"e.g., dQw4w9WgXcQ":"https://example.com/image.jpg"}),"youtube"===c.media_type&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Enter only the video ID from YouTube URL (e.g., from youtube.com/watch?v=",r.jsx("strong",{children:"dQw4w9WgXcQ"}),")"]})]}),"image"!==c.media_type&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thumbnail URL (optional)"}),r.jsx("input",{type:"text",value:c.thumbnail_url,onChange:e=>u({...c,thumbnail_url:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/thumbnail.jpg"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category (optional)"}),r.jsx("input",{type:"text",value:c.category,onChange:e=>u({...c,category:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Competition, Workshop, Awards"})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"is_active",checked:c.is_active,onChange:e=>u({...c,is_active:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Active (visible on website)"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"is_featured",checked:c.is_featured,onChange:e=>u({...c,is_featured:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"is_featured",className:"ml-2 text-sm text-gray-700",children:"Featured"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsxs)("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-medium",children:[o?"Update":"Add"," Highlight"]}),r.jsx("button",{type:"button",onClick:()=>{n(!1),d(null),x()},className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium",children:"Cancel"})]})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a?r.jsx("div",{className:"col-span-full text-center py-12",children:"Loading highlights..."}):0===e.length?r.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:'No highlights yet. Click "Add Highlight" to create one.'}):e.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative aspect-video bg-gray-200",children:["image"===e.media_type&&r.jsx("img",{src:e.media_url,alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="https://via.placeholder.com/400x225?text=Image+Not+Found"}}),"youtube"===e.media_type&&r.jsx("img",{src:e.thumbnail_url||`https://img.youtube.com/vi/${e.media_url}/maxresdefault.jpg`,alt:e.title,className:"w-full h-full object-cover"}),"video"===e.media_type&&r.jsx("video",{src:e.media_url,poster:e.thumbnail_url||void 0,className:"w-full h-full object-cover"}),(0,r.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.is_featured&&r.jsx("span",{className:"bg-yellow-500 text-white text-xs px-2 py-1 rounded-full",children:"â˜… Featured"}),r.jsx("span",{className:"bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded-full",children:e.media_type})]})]}),(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:e.title}),e.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-3",children:[e.event_year&&r.jsx("span",{children:e.event_year}),e.category&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{children:"â€¢"}),r.jsx("span",{children:e.category})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>h(e),className:"flex-1 px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-200",children:"Edit"}),r.jsx("button",{onClick:()=>p(e.id,e.title),className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg text-sm font-medium hover:bg-red-200",children:"Delete"})]})]})]},e.id))})]})}},53935:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`/Users/macbookpro/Personal Work/tecverse03/app/admin/highlights/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,1372,4460],()=>a(56435));module.exports=r})();